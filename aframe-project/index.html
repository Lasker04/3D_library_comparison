<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My A-Frame Project</title>
    <script src="node_modules/aframe/dist/aframe-master.js"></script>
  </head>
  <body>
    <!-- シーンを設定 -->
    <a-scene renderer="antialias: true; gammaOutput: true;">
      <!-- カメラ -->
      <a-entity camera look-at="0 0 0" position="0 0 3"></a-entity>
      <!-- ライト -->
      <a-light
        type="directional"
        color="#ffffff"
        intensity="1"
        position="1 2 1"
      ></a-light>
      <!-- ボックス -->
      <a-box
        id="targetBox"
        position="0 0 0"
        color="#00ff00"
        shadow
        rotate-box
      ></a-box>
      <!-- 背景 -->
      <a-sky color="#ffffff"></a-sky>
    </a-scene>

    <!-- 回転コンポーネントを登録 -->
    <script>
      AFRAME.registerComponent("rotate-box", {
        schema: {
          speed: { type: "number", default: 1 },
        },
        tick: function (time, timeDelta) {
          this.el.object3D.rotation.y += (this.data.speed * timeDelta) / 1000;
        },
      });
      // 回転速度を設定
      document
        .getElementById("targetBox")
        .setAttribute("rotate-box", "speed: 0.5");
    </script>
  </body>
</html>
